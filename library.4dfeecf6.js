var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequiref9fd;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequiref9fd=o),o("bTcpz"),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const s=window.document,i=s.querySelectorAll("a"),a=i.length,l=s.URL;for(let e=0;e<a;e++){let t=i[e].href;l.startsWith(t)&&i[e].classList.add("active")}const d={switchIcon:document.getElementById("switch-icon"),body:document.querySelector("body"),iconDay:document.querySelector(".icon-day"),iconNight:document.querySelector(".icon-night"),headerLogoText:document.querySelector(".header-logo-text"),homeLink:document.getElementById("home-day"),catalogLink:document.getElementById("catalog-day"),myLiberyLink:document.getElementById("my-libery-day"),menuLink:document.getElementById("menu-link"),weeklyTrend:document.getElementById("weekly-trend")};d.switchIcon.addEventListener("click",(function(){d.body.classList.toggle("bkg-white"),d.switchIcon.classList.toggle("icon-day"),d.switchIcon.classList.toggle("icon-night"),d.weeklyTrend.classList.toggle("weekly-trend-day"),d.catalogLink.classList.toggle("menu-link-day"),d.homeLink.classList.toggle("menu-link-day"),d.myLiberyLink.classList.toggle("menu-link-day"),d.menuLink.classList.toggle("menu-link-day"),d.headerLogoText.classList.toggle("day-logo-text");const e=d.body.classList.contains("bkg-white");c("background",e)})),window.addEventListener("DOMContentLoaded",(function(){r("background")?(d.weeklyTrend.classList.add("weekly-trend-day"),d.catalogLink.classList.add("menu-link-day"),d.homeLink.classList.add("menu-link-day"),d.myLiberyLink.classList.add("menu-link-day"),d.menuLink.classList.add("menu-link-day"),d.body.classList.add("bkg-white"),d.headerLogoText.classList.add("day-logo-text"),d.switchIcon.classList.add("icon-day"),d.switchIcon.classList.remove("icon-night")):(d.weeklyTrend.classList.remove("weekly-trend-day"),d.catalogLink.classList.remove("menu-link-day"),d.homeLink.classList.remove("menu-link-day"),d.myLiberyLink.classList.remove("menu-link-day"),d.menuLink.classList.remove("menu-link-day"),d.switchIcon.classList.remove("icon-day"),d.switchIcon.classList.add("icon-night"),d.headerLogoText.classList.remove("day-logo-text"))}));const c=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}},r=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}};function y(e){if(e)return e.map((({original_title:e,poster_path:t,vote_average:n,id:o,genre_names:s,release_date:i})=>{let a="";a=t?`${IMG_BASE_URL}${IMG_W400}${t}`:"https://i.ibb.co/C0LFwTh/OIF.jpg";let l="";for(let e=1;e<=5;e++){let t="fa-star-o";2*e<n?t="fa-star":2*e-1<n&&(t="fa-star-half-o"),l+=`<span class="fa star ${t}"> </span>`}return`<li class='cards-list__item hover-cursor' data-id='${o}'>\n              <img\n                class='cards-list__img'\n                src='${a}'\n                alt='${e}'\n                width\n                loading='lazy'\n                data-id='${o}'\n              />\n              <div class='cards-list__wrap'>\n                <div class='cards-list__info'>\n                  <h2 class='cards-list__title'>${e}</h2>\n                  <div class='cards-list_second_line'>\n                    <div class='cards-list__text'>\n                      <p>${s} | ${i}</p>\n                  </div>\n                </div>\n                </div>\n                <div class='star-rate'>\n                  ${l}\n                </div>     \n              </div>\n              </li>\n              `})).join("")}o("pbv47");let u=1;const m={libraryList:document.querySelector(".library-list"),loadMoreButton:document.getElementById("loadMore")};function g(){let e=function(){const e=function(){const e=JSON.parse(localStorage.getItem("b90b64a7e05f9e36894001e36eb3b3c7"))||{};return Object.values(e)}();if(!Object.keys(e))return null;const t=y(e.slice(0,9*u));m.loadMoreButton.style="display: none;",e.length>9*u&&(m.loadMoreButton.style="");return t}();e=e?`<ul class="cards__list films">${e}</ul>`:'\n    <div class=" container">\n      <p class="library-empty__mistake">OOPS... <br> We are very sorry! <br> You don\'t have any movies at your library.</p>\n<a class="btn-library__link" onclick="window.location.href=\'catalog.html\'">Search movie</a>\n    </div>\n      ',m.libraryList.innerHTML=e}m.libraryList&&g(),m.loadMoreButton&&m.loadMoreButton.addEventListener("click",(()=>{u+=1,g()})),window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),500)};
//# sourceMappingURL=library.4dfeecf6.js.map
