!function(){function e(e){return e&&e.__esModule?e.default:e}var t,n,o,i,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},c={},r=s.parcelRequiref9fd;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in c){var t=c[e];delete c[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){c[e]=t},s.parcelRequiref9fd=r),t=document.querySelector(".js-menu-container"),n=document.querySelector(".js-open-menu"),o=document.querySelector(".js-close-menu"),i=function(){var e="true"===n.getAttribute("aria-expanded")||!1;n.setAttribute("aria-expanded",!e),t.classList.toggle("is-open"),bodyScrollLock[e?"enableBodyScroll":"disableBodyScroll"](document.body)},n.addEventListener("click",i),o.addEventListener("click",i),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(e){e.matches&&(t.classList.remove("is-open"),n.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}));for(var l=window.document,d=l.querySelectorAll("a"),u=d.length,y=l.URL,g=0;g<u;g++){var m=d[g].href;y.startsWith(m)&&d[g].classList.add("active")}var L={switchIcon:document.getElementById("switch-icon"),body:document.querySelector("body"),iconDay:document.querySelector(".icon-day"),iconNight:document.querySelector(".icon-night"),headerLogoText:document.querySelector(".header-logo-text"),homeLink:document.getElementById("home-day"),catalogLink:document.getElementById("catalog-day"),myLiberyLink:document.getElementById("my-libery-day"),menuLink:document.getElementById("menu-link"),weeklyTrend:document.getElementById("weekly-trend")};L.switchIcon.addEventListener("click",(function(){L.body.classList.toggle("bkg-white"),L.switchIcon.classList.toggle("icon-day"),L.switchIcon.classList.toggle("icon-night"),L.weeklyTrend.classList.toggle("weekly-trend-day"),L.catalogLink.classList.toggle("menu-link-day"),L.homeLink.classList.toggle("menu-link-day"),L.myLiberyLink.classList.toggle("menu-link-day"),L.menuLink.classList.toggle("menu-link-day"),L.headerLogoText.classList.toggle("day-logo-text");var e=L.body.classList.contains("bkg-white");k(h,e)})),window.addEventListener("DOMContentLoaded",(function(){f(h)?(L.weeklyTrend.classList.add("weekly-trend-day"),L.catalogLink.classList.add("menu-link-day"),L.homeLink.classList.add("menu-link-day"),L.myLiberyLink.classList.add("menu-link-day"),L.menuLink.classList.add("menu-link-day"),L.body.classList.add("bkg-white"),L.headerLogoText.classList.add("day-logo-text"),L.switchIcon.classList.add("icon-day"),L.switchIcon.classList.remove("icon-night")):(L.weeklyTrend.classList.remove("weekly-trend-day"),L.catalogLink.classList.remove("menu-link-day"),L.homeLink.classList.remove("menu-link-day"),L.myLiberyLink.classList.remove("menu-link-day"),L.menuLink.classList.remove("menu-link-day"),L.switchIcon.classList.remove("icon-day"),L.switchIcon.classList.add("icon-night"),L.headerLogoText.classList.remove("day-logo-text"))}));var h="background";var k=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}},f=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},v=r("bpxeT"),b=r("2TvXO"),w="https://api.themoviedb.org/3",p="/trending/movie/week",x="b90b64a7e05f9e36894001e36eb3b3c7",S=document.querySelector(".js-list"),_=1;new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&serviceMovie(_+=1).then((function(e){S.insertAdjacentHTML("beforeend",T(e.results)),e.total_pages<=e.page&&t.unobserve(guard)}))}))}),{root:null,rootMargin:"400px",threshold:0});function I(){return I=e(v)(e(b).mark((function t(){var n,o=arguments;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:1,e.abrupt("return",fetch("".concat(w).concat(p,"?api_key=").concat(x,"&page=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})));case 2:case"end":return e.stop()}}),t)}))),I.apply(this,arguments)}function T(e){return e.slice(0,3).map((function(e){var t=e.original_title,n=e.poster_path,o=e.release_date,i=e.genre;return"<li class='cards-list-item'>\n       <img class='cards__list-img' src=\"https://image.tmdb.org/t/p/w400".concat(n,'" alt="').concat(t,"\">\n       <div class='weekly-trends__overlay'></div>\n       <div class='cards__bloc-stars'>\n     <h2 class='cards__list-title'>").concat(t,"</h2>\n     <div class='cards__list-text'>").concat(i," | ").concat(o.slice(0,4),"</div> \n</div></li>")})).join("")}(function(){return I.apply(this,arguments)})().then((function(e){S.insertAdjacentHTML("beforeend",T(e.results))})).catch((function(e){return console.log(e)})),r("5xtVg")}();
//# sourceMappingURL=index.74d92b3f.js.map
