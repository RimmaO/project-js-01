function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequiref9fd;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequiref9fd=a),a.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"5ZPII":"index.a9a36813.js","4g744":"hero-desktop-1x.1b8f9577.jpg","lCSqD":"hero-tablet-1x.c3657911.jpg","6xAHN":"hero-mobile-1x.c6fb2550.jpg","jUpL3":"pop-up.ec7cba19.jpg","7adTC":"library.9b5f0b00.js"}')),a("bUb57"),a("rtSae");var i;i=new URL(a("kyEFX").resolve("4g744"),import.meta.url).toString();var s;s=new URL(a("kyEFX").resolve("lCSqD"),import.meta.url).toString();var l;l=new URL(a("kyEFX").resolve("6xAHN"),import.meta.url).toString();new URL(a("kyEFX").resolve("jUpL3"),import.meta.url).toString();const c=document.getElementById("hero"),d=document.querySelector(".hero-title"),u=document.querySelector(".hero-rating"),p=document.querySelector(".hero-overview"),m=document.querySelector(".hero-details-btn"),g=document.querySelector(".hero-trailer-btn"),f=document.getElementById("detailsModal"),v=document.querySelector("#detailsModal .modal-title"),y=document.querySelector("#detailsModal .modal-overview"),h=document.querySelector("#detailsModal .modal-close-btn"),b=document.getElementById("trailerModal"),_=(document.querySelector("#trailerModal .modal-title"),document.querySelector("#trailerModal .modal-trailer")),w=document.querySelector("#trailerModal .modal-close-btn"),x=document.querySelector(".trailer-modal-content");function S(){const e=window.innerWidth;let n=t(i);e<=480?n=t(l):e<=1158&&(n=t(s)),c.style.backgroundImage=`url(${n})`,d.textContent="Let’s Make Your Own Cinema",u.textContent="",p.textContent='Is a guide to creating a personalized movie theater experience. You"ll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.',g.textContent="Get started",g.addEventListener("click",(()=>{window.location.href="catalog.html"})),m.style.display="none"}h.addEventListener("click",(()=>{f.style.display="none"})),w.addEventListener("click",(()=>{b.style.display="none"})),async function(){try{const e=(await axios.get("https://api.themoviedb.org/3/trending/movie/day?api_key=b0c24f4300d90d0bb33ad49b06fe89dd")).data;if(e.results.length>0){const t=e.results[Math.floor(Math.random()*e.results.length)];!function(e){c.style.backgroundImage=`url(https://image.tmdb.org/t/p/original/${e.backdrop_path})`,d.textContent=e.title,p.textContent=e.overview,m.addEventListener("click",(()=>{!function(e){v.textContent=e.title,y.textContent=e.overview,f.style.display="flex"}(e)})),g.addEventListener("click",(()=>{!async function(e){_.innerHTML="";try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=b0c24f4300d90d0bb33ad49b06fe89dd&language=en-US`),n=await t.json();if(n.results.length>0){const e=n.results[0].key,t=document.createElement("iframe");t.width="100%",t.height="100%",t.src=`https://www.youtube.com/embed/${e}`,t.allowFullscreen=!0,_.appendChild(t),w.style.background="none",w.style.outline="1px solid orange",w.style.color="orange"}else _.textContent="Failed to load trailer.",x.classList.remove("trailer-modal-content")}catch(e){console.error(e),x.classList.add("modal-trailer-defolt");const t='\n      <div class="modal-trailer-defolt">\n      <div class="modal-trailer-defolt-text">\n      <p class="modal-def">OOPS...<br>We are very sorry!<br>But we couldn\'t the trailer.</p>\n      </div>';_.innerHTML=t}b.style.display="flex"}(e.id)}));!function(e){const t=Math.round(e),n=document.querySelector(".stars"),o=document.querySelector(".rating-value");let r="";for(let e=0;e<5;e++)r+=e<t/2?"★":"☆";n.textContent=r,o.textContent=`Rating: ${e.toFixed(1)}`}(e.vote_average)}(t),console.log(t)}else S()}catch(e){console.error(e),S()}}();const k=document.querySelector(".js-list");let $=1;new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&($+=1,serviceMovie($).then((e=>{k.insertAdjacentHTML("beforeend",E(e.results)),e.total_pages<=e.page&&t.unobserve(guard)})))}))}),{root:null,rootMargin:"400px",threshold:0});async function E(e){const t=e.map((({genre_ids:e})=>async function(e){const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=b90b64a7e05f9e36894001e36eb3b3c7");let n=[];const o=(await t.json()).genres;for(const t of o)e.genre_ids.includes(t.id)&&n.push(t.name);return n}({genre_ids:e}))),n=await Promise.all(t);return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:o},r)=>`<li class='cards-list-item'> \n          <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}"> \n          <div class='weekly-trends__overlay'></div> \n          <div class='cards__bloc-stars'> \n            <h2 class='cards__list-title'>${e}</h2> \n            <div class='cards__list-text'>${n[r].join(", ")} | ${o.slice(0,4)}</div>  \n              \n          </div> \n        </li>`)).join("")}function E(e){return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:n,genre:o,id:r})=>`<li class='cards-list-item' data-id='${r}'>\n       <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}">\n       <div class='weekly-trends__overlay'></div>\n       <div class='cards__bloc-stars'>\n     <h2 class='cards__list-title'>${e}</h2>\n     <div class='cards__list-text'>${o} | ${n.slice(0,4)}</div> \n</div></li>`)).join("")}(async function(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b90b64a7e05f9e36894001e36eb3b3c7&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))})().then((async e=>{k.insertAdjacentHTML("beforeend",await E(e.results))})).catch((e=>console.log(e))),a("bTcpz");var M=a("2shzp"),j=a("9fyS7");const L=document.querySelector(".upcoming-section-title"),q=(document.querySelector(".container-upcoming-the-month"),document.querySelector(".library-button"));let C;function H(){const e=JSON.parse(localStorage.getItem("librariesKey"))||[],t=C.id;if(function(e){return(JSON.parse(localStorage.getItem("librariesKey"))||[]).some((t=>t.id===e))}(t)){const n=e.findIndex((e=>e.id===t));e.splice(n,1),localStorage.setItem("librariesKey",JSON.stringify(e)),q.textContent="Add to my library"}else e.push(C),localStorage.setItem("librariesKey",JSON.stringify(e)),q.textContent="Remove from my library"}(async function(){const e=(await M.default.get("https://api.themoviedb.org/3/movie/upcoming?language=en-US",{params:{api_key:j.KEY}})).data,t=Math.floor(Math.random()*e.results.length);return e.results[t]})().then((e=>{C=e,console.log(e),async function(e){const t=(await async function(e){const t=await M.default.get("https://api.themoviedb.org/3/genre/movie/list?language=en",{params:{api_key:j.KEY}});let n=[];const o=t.data.genres;for(const t of o)e.genre_ids.includes(t.id)&&n.push(t.name);return n}(e).then((e=>e))).map(((e,t)=>0===t?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase())).join(", "),n=e.release_date.split("-"),o=`${n[2]}.${n[1]}.${n[0]}`,r=`<div class="upcoming-desktop-container"><img\n  class="upcoming-section-img"\n  src="${function(e){const t="https://image.tmdb.org/t/p/";return window.innerWidth>=768?`${t}w1280/${e.backdrop_path}`:`${t}w500/${e.poster_path}`}(e)}"\n  alt="${e.title}"\n/>\n<div class="upcoming-desktop-flex">\n  <h3 class="upcoming-movie-title">${e.title}</h3>\n  <div class="upcoming-flex-container">\n    <div class="upcoming-tablet-flex">\n      <div class="upcoming-data-flex">\n        <p class="info-key">Release date</p>\n        <p class="info-value info-value-date">${o}</p>\n      </div>\n      <div class="upcoming-data-flex">\n        <p class="info-key">Vote / Votes</p>\n        <p class="info-value">\n          <span class="info-value-vote"> ${e.vote_average}</span> /\n          <span class="info-value-vote">${e.vote_count}</span>\n        </p>\n      </div>\n    </div>\n    <div class="upcoming-tablet-flex">\n      <div class="upcoming-data-flex">\n        <p class="info-key">Popularity</p>\n        <p class="info-value">${e.popularity.toFixed(1)}</p>\n      </div>\n      <div class="upcoming-data-flex">\n        <p class="info-key">Genre</p>\n        <p class="info-value">${t}</p>\n      </div>\n    </div>\n  </div>\n\n  <h4 class="about-title">About</h4>\n  <p class="about-description">${e.overview}</p>\n  <button class="library-button">Add to my library</button>\n</div></div>\n        `;L.insertAdjacentHTML("afterend",r),q=document.querySelector(".library-button"),q.addEventListener("click",H)}(e)})).catch((()=>{if(!C)return function(){const e='<div class="error-message"><p>Oops...</p><p>We are very sorry!</p><p>There are no upcoming movies at the moment.</p></div> ';L.insertAdjacentHTML("afterend",e)}();!function(){const e='<div class="error-message"><p>Oops...</p><p>We are very sorry!</p><p>Something went wrong.</p></div>';L.insertAdjacentHTML("afterend",e)}()})),a("epHO8");
//# sourceMappingURL=index.a9a36813.js.map
