{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/hero.js","node_modules/@parcel/runtime-js/lib/runtime-594ac58ee65f9218.js","node_modules/@parcel/runtime-js/lib/runtime-35b3cb568f2c16d8.js","node_modules/@parcel/runtime-js/lib/runtime-5bb532de38db405a.js","node_modules/@parcel/runtime-js/lib/runtime-8e870032c8e3a098.js","node_modules/@parcel/runtime-js/lib/runtime-fbb6a8b05417a691.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import defaultImg from '../images/img/img.png';\nimport axios from 'axios';\nimport Defoltimg from '../images/hero-desktop-1x.jpg';\nimport DefoltImgTablet from '../images/hero-tablet-1x.jpg';\nimport DefoltImgMobil from '../images/hero-mobile-1x.jpg';\n\nconst API_KEY = 'b0c24f4300d90d0bb33ad49b06fe89dd';\nconst trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`;\nconst backdropBaseUrl = 'https://image.tmdb.org/t/p/original/';\nconst trailerBaseUrl = 'https://api.themoviedb.org/3/movie/';\nconst trailerParams = `videos?api_key=${API_KEY}&language=en-US`;\n\nconst hero = document.getElementById('hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroRating = document.querySelector('.hero-rating');\nconst heroOverview = document.querySelector('.hero-overview');\nconst detailsBtn = document.querySelector('.hero-details-btn');\nconst trailerBtn = document.querySelector('.hero-trailer-btn');\n\nconst detailsModal = document.getElementById('detailsModal');\nconst detailsModalTitle = document.querySelector('#detailsModal .modal-title');\nconst detailsModalOverview = document.querySelector(\n  '#detailsModal .modal-overview'\n);\nconst detailsModalCloseBtn = document.querySelector(\n  '#detailsModal .modal-close-btn'\n);\n\nconst trailerModal = document.getElementById('trailerModal');\nconst trailerModalTitle = document.querySelector('#trailerModal .modal-title');\nconst trailerModalTrailer = document.querySelector(\n  '#trailerModal .modal-trailer'\n);\nconst trailerModalCloseBtn = document.querySelector(\n  '#trailerModal .modal-close-btn'\n);\nconst trailerModalContent = document.querySelector('.trailer-modal-content');\n\n//  Пошук фільму через ФЕЧ\n// async function getTrendingMovie() {\n//   try {\n//     const response = await fetch(trendingMoviesUrl);\n//     const data = await response.json();\n//     if (data.results.length > 0) {\n//       const movie = data.results[Math.floor(Math.random() * data.results.length)];\n//       displayMovieInfo(movie);\n\n//       console.log(movie);\n\n//     } else {\n//       displayDefaultHeroContent();\n//     }\n//   } catch (error) {\n//     console.error(error);\n//     displayDefaultHeroContent();\n//   }\n// }\n\n// Пошук фільму дня\nasync function getTrendingMovie() {\n  try {\n    const response = await axios.get(trendingMoviesUrl);\n    const data = response.data;\n    if (data.results.length > 0) {\n      const movie =\n        data.results[Math.floor(Math.random() * data.results.length)];\n      displayMovieInfo(movie);\n\n      console.log(movie);\n    } else {\n      displayDefaultHeroContent();\n    }\n  } catch (error) {\n    console.error(error);\n    displayDefaultHeroContent();\n  }\n}\n\n// Відображення в герої інформації про фільм дня\n\nfunction displayMovieInfo(movie) {\n  hero.style.backgroundImage = `url(${backdropBaseUrl}${movie.backdrop_path})`;\n  heroTitle.textContent = movie.title;\n  const overviewText = movie.overview;\n\n  // Обмеження кількості слів (15) та додавання '...' в кінці\n  const maxWords = 15;\n  let limitText = overviewText.split(' ').slice(0, maxWords).join(' ');\n  if (overviewText.split(' ').length > maxWords) {\n    limitText += '...';\n  }\n  heroOverview.textContent = limitText;\n\n  detailsBtn.addEventListener('click', () => {\n    openDetailsModal(movie);\n  });\n\n  trailerBtn.addEventListener('click', () => {\n    openTrailerModal(movie.id);\n  });\n\n  // Отримання рейтингу фільму\n  const movieRating = movie.vote_average;\n\n  // Відображення рейтингу фільму\n  displayMovieRating(movieRating);\n}\n// відображення рейтингу в зірочках\nfunction displayMovieRating(rating) {\n  const roundedRating = Math.round(rating);\n  const starsElement = document.querySelector('.stars');\n  const ratingValueElement = document.querySelector('.rating-value');\n\n  let stars = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < roundedRating / 2) {\n      stars += '★';\n    } else {\n      stars += '☆';\n    }\n  }\n\n  starsElement.textContent = stars;\n  ratingValueElement.textContent = `Rating: ${rating.toFixed(1)}`;\n}\n\n// Інформація в герої за замовчуванням\nfunction displayDefaultHeroContent() {\n  const windowWidth = window.innerWidth;\n  let backgroundImageURL = Defoltimg;\n\n  if (windowWidth <= 480) {\n    backgroundImageURL = DefoltImgMobil;\n  } else if (windowWidth <= 1158) {\n    backgroundImageURL = DefoltImgTablet;\n  }\n\n  hero.style.backgroundImage = `url(${backgroundImageURL})`;\n  heroTitle.textContent = 'Let’s Make Your Own Cinema';\n  heroRating.textContent = '';\n  heroOverview.textContent =\n    'Is a guide to creating a personalized movie theater experience. You\"ll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.';\n  trailerBtn.textContent = 'Get started';\n  trailerBtn.addEventListener('click', () => {\n    window.location.href = 'catalog.html';\n  });\n  detailsBtn.style.display = 'none';\n  trailerBtn;\n}\n\n// Модальне вікно з інформацією\nfunction openDetailsModal(movie) {\n  detailsModalTitle.textContent = movie.title;\n  detailsModalOverview.textContent = movie.overview;\n  detailsModal.style.display = 'flex';\n}\n\n// Відкриття модального трейлера\nasync function openTrailerModal(movieId) {\n  trailerModalTrailer.innerHTML = '';\n\n  try {\n    const response = await fetch(\n      `${trailerBaseUrl}${movieId}/${trailerParams}`\n    );\n    const data = await response.json();\n    if (data.results.length > 0) {\n      const trailerKey = data.results[0].key;\n      const trailerIframe = document.createElement('iframe');\n      trailerIframe.width = '100%';\n      trailerIframe.height = '100%';\n      trailerIframe.src = `https://www.youtube.com/embed/${trailerKey}`;\n      trailerIframe.allowFullscreen = true;\n      trailerModalTrailer.appendChild(trailerIframe);\n\n      trailerModalCloseBtn.style.background = 'none';\n      trailerModalCloseBtn.style.outline = '1px solid orange';\n      trailerModalCloseBtn.style.color = 'orange';\n    } else {\n      trailerModalTrailer.textContent = 'Failed to load trailer.';\n      trailerModalContent.classList.remove('trailer-modal-content');\n    }\n  } catch (error) {\n    console.error(error);\n\n    trailerModalContent.classList.add('modal-trailer-defolt');\n    const popUpHTML = `\n\n      <div class=\"modal-trailer-defolt\">\n      <div class=\"modal-trailer-defolt-text\">\n      <p class=\"modal-def\">OOPS...<br>We are very sorry!<br>But we couldn't the trailer.</p>\n      </div>`;\n    trailerModalTrailer.innerHTML = popUpHTML;\n  }\n\n  trailerModal.style.display = 'flex';\n}\n\n// Закриття модального вікна\ndetailsModalCloseBtn.addEventListener('click', () => {\n  detailsModal.style.display = 'none';\n});\n\n// Закриття вікна трейлера\ntrailerModalCloseBtn.addEventListener('click', () => {\n  trailerModal.style.display = 'none';\n});\n\ngetTrendingMovie();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7inzg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4g744\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lCSqD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6xAHN\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"co8kk\\\":\\\"index.89db41c3.js\\\",\\\"7inzg\\\":\\\"img.c243cc64.png\\\",\\\"4g744\\\":\\\"hero-desktop-1x.1b8f9577.jpg\\\",\\\"lCSqD\\\":\\\"hero-tablet-1x.c3657911.jpg\\\",\\\"6xAHN\\\":\\\"hero-mobile-1x.c6fb2550.jpg\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","$aab6d1c60b3e9a0a$var$trailerParams","$aab6d1c60b3e9a0a$var$hero","document","getElementById","$aab6d1c60b3e9a0a$var$heroTitle","querySelector","$aab6d1c60b3e9a0a$var$heroRating","$aab6d1c60b3e9a0a$var$heroOverview","$aab6d1c60b3e9a0a$var$detailsBtn","$aab6d1c60b3e9a0a$var$trailerBtn","$aab6d1c60b3e9a0a$var$detailsModal","$aab6d1c60b3e9a0a$var$detailsModalTitle","$aab6d1c60b3e9a0a$var$detailsModalOverview","$aab6d1c60b3e9a0a$var$detailsModalCloseBtn","$aab6d1c60b3e9a0a$var$trailerModal","$aab6d1c60b3e9a0a$var$trailerModalTrailer","$aab6d1c60b3e9a0a$var$trailerModalCloseBtn","$aab6d1c60b3e9a0a$var$trailerModalContent","$aab6d1c60b3e9a0a$var$displayDefaultHeroContent","windowWidth","window","innerWidth","backgroundImageURL","$parcel$interopDefault","$6zkcU","$2Jrss","$99bLU","style","backgroundImage","textContent","addEventListener","location","href","display","async","data","$2shzp","default","get","results","movie","Math","floor","random","backdrop_path","title","overviewText","overview","maxWords","limitText","split","slice","join","$aab6d1c60b3e9a0a$var$openDetailsModal","movieId","innerHTML","response","fetch","json","trailerKey","key","trailerIframe","createElement","width","height","src","allowFullscreen","appendChild","background","outline","color","classList","remove","error","console","add","popUpHTML","$aab6d1c60b3e9a0a$var$openTrailerModal","rating","roundedRating","round","starsElement","ratingValueElement","stars","toFixed","$aab6d1c60b3e9a0a$var$displayMovieRating","vote_average","$aab6d1c60b3e9a0a$var$displayMovieInfo","log","$aab6d1c60b3e9a0a$var$getTrendingMovie","module","exports","URL","resolve","import","meta","url","toString","register","JSON","parse"],"version":3,"file":"index.89db41c3.js.map"}