(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),n=()=>{const s="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!s),e.classList.toggle("is-open");bodyScrollLock[s?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",n),s.addEventListener("click",n),window.matchMedia("(min-width: 768px)").addEventListener("change",(s=>{s.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const e=window.document,t=e.querySelectorAll("a"),s=t.length,n=e.URL;for(let e=0;e<s;e++){let s=t[e].href;n.startsWith(s)&&t[e].classList.add("active")}const r=document.querySelector(".js-list");let o=1;new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(o+=1,serviceMovie(o).then((e=>{r.insertAdjacentHTML("beforeend",c(e.results)),e.total_pages<=e.page&&t.unobserve(guard)})))}))}),{root:null,rootMargin:"400px",threshold:0});function c(e){return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:s,genre:n})=>`<li class='cards-list-item'>\n       <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}">\n       <div class='weekly-trends__overlay'></div>\n       <div class='cards__bloc-stars'>\n     <h2 class='cards__list-title'>${e}</h2>\n     <div class='cards__list-text'>${n} | ${s.slice(0,4)}</div> \n</div></li>`)).join("")}(async function(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b90b64a7e05f9e36894001e36eb3b3c7&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))})().then((e=>{r.insertAdjacentHTML("beforeend",c(e.results))})).catch((e=>console.log(e)));
//# sourceMappingURL=index.5e418996.js.map
