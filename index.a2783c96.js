function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},l=r.parcelRequiref9fd;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},r.parcelRequiref9fd=l),l.register("kyEFX",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var l={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)l[t[r]]=e[t[r]]},o=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),l("kyEFX").register(JSON.parse('{"5ZPII":"index.a2783c96.js","4g744":"hero-desktop-1x.1b8f9577.jpg","lCSqD":"hero-tablet-1x.c3657911.jpg","6xAHN":"hero-mobile-1x.c6fb2550.jpg","jUpL3":"pop-up.ec7cba19.jpg","7adTC":"library.d4b0e442.js"}')),l("bUb57"),l("rtSae");var a;a=new URL(l("kyEFX").resolve("4g744"),import.meta.url).toString();var i;i=new URL(l("kyEFX").resolve("lCSqD"),import.meta.url).toString();var s;s=new URL(l("kyEFX").resolve("6xAHN"),import.meta.url).toString();new URL(l("kyEFX").resolve("jUpL3"),import.meta.url).toString();const d=document.getElementById("hero"),c=document.querySelector(".hero-title"),u=document.querySelector(".hero-rating"),m=document.querySelector(".hero-overview"),g=document.querySelector(".hero-details-btn"),p=document.querySelector(".hero-trailer-btn"),f=document.getElementById("detailsModal"),y=document.querySelector("#detailsModal .modal-title"),v=document.querySelector("#detailsModal .modal-overview"),h=document.querySelector("#detailsModal .modal-close-btn"),b=document.getElementById("trailerModal"),_=(document.querySelector("#trailerModal .modal-title"),document.querySelector("#trailerModal .modal-trailer")),w=document.querySelector("#trailerModal .modal-close-btn"),x=document.querySelector(".trailer-modal-content");function S(){const e=window.innerWidth;let r=t(a);e<=480?r=t(s):e<=1158&&(r=t(i)),d.style.backgroundImage=`url(${r})`,c.textContent="Let’s Make Your Own Cinema",u.textContent="",m.textContent='Is a guide to creating a personalized movie theater experience. You"ll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.',p.textContent="Get started",p.addEventListener("click",(()=>{window.location.href="catalog.html"})),g.style.display="none"}h.addEventListener("click",(()=>{f.style.display="none"})),w.addEventListener("click",(()=>{b.style.display="none"})),async function(){try{const e=(await axios.get("https://api.themoviedb.org/3/trending/movie/day?api_key=b0c24f4300d90d0bb33ad49b06fe89dd")).data;if(e.results.length>0){const t=e.results[Math.floor(Math.random()*e.results.length)];!function(e){d.style.backgroundImage=`url(https://image.tmdb.org/t/p/original/${e.backdrop_path})`,c.textContent=e.title,m.textContent=e.overview,g.addEventListener("click",(()=>{!function(e){y.textContent=e.title,v.textContent=e.overview,f.style.display="flex"}(e)})),p.addEventListener("click",(()=>{!async function(e){_.innerHTML="";try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=b0c24f4300d90d0bb33ad49b06fe89dd&language=en-US`),r=await t.json();if(r.results.length>0){const e=r.results[0].key,t=document.createElement("iframe");t.width="100%",t.height="100%",t.src=`https://www.youtube.com/embed/${e}`,t.allowFullscreen=!0,_.appendChild(t),w.style.background="none",w.style.outline="1px solid orange",w.style.color="orange"}else _.textContent="Failed to load trailer.",x.classList.remove("trailer-modal-content")}catch(e){console.error(e),x.classList.add("modal-trailer-defolt");const t='\n      <div class="modal-trailer-defolt">\n      <div class="modal-trailer-defolt-text">\n      <p class="modal-def">OOPS...<br>We are very sorry!<br>But we couldn\'t the trailer.</p>\n      </div>';_.innerHTML=t}b.style.display="flex"}(e.id)}));!function(e){const t=Math.round(e),r=document.querySelector(".stars"),n=document.querySelector(".rating-value");let o="";for(let e=0;e<5;e++)o+=e<t/2?"★":"☆";r.textContent=o,n.textContent=`Rating: ${e.toFixed(1)}`}(e.vote_average)}(t),console.log(t)}else S()}catch(e){console.error(e),S()}}();const k=document.querySelector(".js-list");let E=1;new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(E+=1,serviceMovie(E).then((e=>{k.insertAdjacentHTML("beforeend",j(e.results)),e.total_pages<=e.page&&t.unobserve(guard)})))}))}),{root:null,rootMargin:"400px",threshold:0});async function j(e){const t=e.map((({genre_ids:e})=>async function(e){const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=b90b64a7e05f9e36894001e36eb3b3c7");let r=[];const n=(await t.json()).genres;for(const t of n)e.genre_ids.includes(t.id)&&r.push(t.name);return r}({genre_ids:e}))),r=await Promise.all(t);return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:n},o)=>`<li class='cards-list-item'> \n          <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}"> \n          <div class='weekly-trends__overlay'></div> \n          <div class='cards__bloc-stars'> \n            <h2 class='cards__list-title'>${e}</h2> \n            <div class='cards__list-text'>${r[o].join(", ")} | ${n.slice(0,4)}</div>  \n              \n          </div> \n        </li>`)).join("")}function j(e){return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:r,genre:n,id:o})=>`<li class='cards-list-item' data-id='${o}'>\n       <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}">\n       <div class='weekly-trends__overlay'></div>\n       <div class='cards__bloc-stars'>\n     <h2 class='cards__list-title'>${e}</h2>\n     <div class='cards__list-text'>${n} | ${r.slice(0,4)}</div> \n</div></li>`)).join("")}(async function(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b90b64a7e05f9e36894001e36eb3b3c7&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))})().then((async e=>{k.insertAdjacentHTML("beforeend",await j(e.results))})).catch((e=>console.log(e))),l("bTcpz"),l("br6gq"),l("epHO8");
//# sourceMappingURL=index.a2783c96.js.map
