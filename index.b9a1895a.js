var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequiref9fd;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequiref9fd=o),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const s=window.document,i=s.querySelectorAll("a"),c=i.length,a=s.URL;for(let e=0;e<c;e++){let t=i[e].href;a.startsWith(t)&&i[e].classList.add("active")}const l={switchIcon:document.getElementById("switch-icon"),body:document.querySelector("body"),iconDay:document.querySelector(".icon-day"),iconNight:document.querySelector(".icon-night"),headerLogoText:document.querySelector(".header-logo-text"),homeLink:document.getElementById("home-day"),catalogLink:document.getElementById("catalog-day"),myLiberyLink:document.getElementById("my-libery-day"),menuLink:document.getElementById("menu-link")};l.switchIcon.addEventListener("click",(function(){l.switchIcon.classList.toggle("icon-day"),l.switchIcon.classList.toggle("icon-night"),l.catalogLink.classList.toggle("menu-link-day"),l.homeLink.classList.toggle("menu-link-day"),l.myLiberyLink.classList.toggle("menu-link-day"),l.menuLink.classList.toggle("menu-link-day"),l.body.classList.toggle("bkg-white"),l.headerLogoText.classList.toggle("day-logo-text");const e=l.body.classList.contains("bkg-white");r("background",e)})),window.addEventListener("DOMContentLoaded",(function(){d("background")?(l.catalogLink.classList.add("menu-link-day"),l.homeLink.classList.add("menu-link-day"),l.myLiberyLink.classList.add("menu-link-day"),l.menuLink.classList.add("menu-link-day"),l.body.classList.add("bkg-white"),l.headerLogoText.classList.add("day-logo-text"),l.switchIcon.classList.add("icon-day"),l.switchIcon.classList.remove("icon-night")):(l.catalogLink.classList.remove("menu-link-day"),l.homeLink.classList.remove("menu-link-day"),l.myLiberyLink.classList.remove("menu-link-day"),l.menuLink.classList.remove("menu-link-day"),l.switchIcon.classList.remove("icon-day"),l.switchIcon.classList.add("icon-night"),l.headerLogoText.classList.remove("day-logo-text"))}));const r=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}},d=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}};o("eEHR3");const u=document.querySelector(".js-list");let g=1;new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(g+=1,serviceMovie(g).then((e=>{u.insertAdjacentHTML("beforeend",m(e.results)),e.total_pages<=e.page&&t.unobserve(guard)})))}))}),{root:null,rootMargin:"400px",threshold:0});function m(e){return e.slice(0,3).map((({original_title:e,poster_path:t,release_date:n,genre:o})=>`<li class='cards-list-item'>\n       <img class='cards__list-img' src="https://image.tmdb.org/t/p/w400${t}" alt="${e}">\n       <div class='weekly-trends__overlay'></div>\n       <div class='cards__bloc-stars'>\n     <h2 class='cards__list-title'>${e}</h2>\n     <div class='cards__list-text'>${o} | ${n.slice(0,4)}</div> \n</div></li>`)).join("")}(async function(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=b90b64a7e05f9e36894001e36eb3b3c7&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))})().then((e=>{u.insertAdjacentHTML("beforeend",m(e.results))})).catch((e=>console.log(e))),o("bTcpz");
//# sourceMappingURL=index.b9a1895a.js.map
